# 容器镜像下载网站测试计划

## 1. 测试范围与目标
- 覆盖镜像源配置、聚合搜索、下载队列与断点续传、历史管理、完整性校验、实时进度(WebSocket)等核心功能。
- 验证安全与网络要求：HTTPS(在生产)、HTTP/2(服务端支持)、内容校验。
- 兼容性：Chrome/Firefox/Edge 最新版，PC端≥1280px。

## 2. 测试覆盖矩阵
- 功能维度：镜像源配置/搜索/下载/历史/完整性校验/UI交互/WebSocket。
- 数据维度：名称/标签/架构/源优先级/分块大小/并发数/失败重试次数。
- 状态维度：pending/downloading/paused/completed/error。

## 3. 测试类型
- 单元测试：服务与工具函数、前端 store 与组件逻辑。
- API测试：REST 路由参数校验、状态码、响应结构。
- E2E测试：用户路径(搜索→加入队列→下载→校验→历史记录)。
- 性能测试：≥5并发下载任务的吞吐与稳定性。

## 4. 环境准备
- 前端：Vite 开发服务器 `http://localhost:5173`。
- 后端：Node.js API `http://localhost:3001`，WebSocket 同端口。
- 测试账号：匿名模式(无需登录)，模拟源配置。
- 数据：伪造镜像搜索结果，下载任务内存存储，分块模拟。

## 5. 进入准入与退出准则
- 准入：服务可启动、核心页面可访问、API健康检查返回 200。
- 退出：核心路径全部通过、严重缺陷已修复或有替代方案、性能测试达标。

## 6. 风险与缓解
- 外部镜像源不可用：使用模拟数据与本地桩服务。
- HTTPS/HTTP2 在本地：开发环境降级为 HTTP/WS，不影响生产配置验证。

## 7. 度量与报告
- 通过率、失败率、覆盖率(行/分支)、缺陷分类与趋势、并发性能指标。

